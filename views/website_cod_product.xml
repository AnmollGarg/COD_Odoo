<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="product_cod_info" inherit_id="website_sale.product">
        <xpath expr="//div[@id='o_product_terms_and_share']" position="before">
            <t t-if="product.cod_available">
                <div style="padding:10px; margin-top:10px;">
                    <span style="color:green;"><b>Cash on delivery Available !</b></span><br/>
                    <span t-esc="product.cod_message"/><br/>
                    <span t-if="product.cod_expected_delivery">
                        <span t-esc="product.cod_expected_delivery"/>
                    </span><br/>
                    <a t-if="product.cod_policy_link"
                       t-att-href="product.cod_policy_link"
                       target="_blank">COD Policy</a>
                </div>
            </t>
            <t t-if="not product.cod_available">
                <div style="border:2px solid red; padding:10px; margin-top:10px;">
                    <span style="color:red;"><b>Cash on Delivery Not Available</b></span><br/>
                    <span t-esc="product.cod_message"/>
                </div>
            </t>
            <t t-set="cod_config" t-value="request.env['cod.config'].sudo().search([], limit=1)"/>
            <div id="cod_allowed_zip_section" style="padding:10px; margin-top:10px;">
                <b>Cash on Delivery Available on these ZIP codes:</b>
                <ul>
                    <t t-foreach="cod_config.cod_allowed_zip_codes" t-as="cod_zip">
                        <li><t t-esc="cod_zip.name"/></li>
                    </t>
                </ul>
            </div>
        </xpath>
    </template>
</odoo>